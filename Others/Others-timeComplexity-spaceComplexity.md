# 【筆記】 淺談 時間複雜度 與 空間複雜度

###### tags: `筆記文章`

![Math](https://image.freepik.com/free-vector/realistic-math-chalkboard-background_23-2148154055.jpg)

### 當今天我們要判斷或比較兩段程式碼的好壞時，最基本的方法可以透過去看它們的執行時間(時間複雜度)、它們占用了多少記憶體(空間複雜度)，來比較這它們的好壞，今天這篇文章將會簡單的介紹一下『時間複雜度與空間複雜度』。

## BigO(漸進符號)

在開始談『**時間複雜度**』與『**空間複雜度**』前，首先我們需要先了解 **BigO(漸進符號)**。
BigO 又稱為漸進符號，它並不是用來表示真實演算法的執行時間、佔用多少記憶體，它主要是用來描述**函式漸近行為的數學符號**，在分析演算法複雜性中常會使用 BigO 來表示複雜度的漸進變化趨勢，例如：在表示時間複雜度、空間複雜度的時候，通常會直接使用 BigO 來表示。
**一般在標示 BigO 時，我們只會看它的最高次方項，並且省略係數與後面表達式的值**

例如：T(n) = $2x^2$ + 3x + 5

> 當 x 為無限大時：
> => $2無限大^2$ + 3 無限大 ＋ 5
> => $無限大^2$

由此可知在標示 BigO 時，我們只需要看它的最高次方項即可。

![Time complexity](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Comparison_computational_complexity.svg/400px-Comparison_computational_complexity.svg.png)

## 何謂時間複雜度 T(n) = O(f(n))

**首先，先來看看維基百科怎麼說：**

> 時間複雜度（Time complexity）是一個函式，它定性描述該演算法的執行時間。這是一個代表演算法輸入值的字串的長度的函式，時間複雜度常用 BigO 符號表述。
> 時間複雜度可被稱為是漸近的，亦即考察輸入值大小趨近無窮時的情況。

### 相信大家看完以後應該還是一頭霧水!!!

**簡單來說：時間複雜度是指完全執行完演算法所需要的執行次數，且不受環境(不同電腦、不同設備)影響，能夠客觀描述演算法大概會耗費多少步驟次數。**

這邊是用 **執行次數** 主要是因為，程式執行所花費時間的快慢並不能衡量一個演算法的好壞。
舉例來說：同樣的程式碼在超級電腦只需要 1 秒的執行時間，在家用筆電中卻需要 10 秒，畢竟每台電腦的計算能力不太一樣，也不會因為換了一台電腦設備，程式碼就變得不一樣了吧！
所以我們會用 **『演算法的執行次數(指令)』** 來做為計算評估。

接下來我們將會介紹一些較常看到的時間複雜度例子：

### O(1)

```javascript=
function TimeComplexity(n){
    console.log(n) // 不管傳入參數為何，執行次數都是固定的。
}
```

解釋： 如果一個演算法執行的步驟是固定的，不會因為傳入的參數而改變次數，我們就稱呼為 O(1)。

### O(n)

```javascript=
function TimeComplexity(n){
    for(let i=0 ; i<n ; i++){
        console.log(i) // 因為傳入參數的大小，而改變程式的執行次數。
    }
}
```

解釋：執行次數會因為 n 大小而改變，例如我們經常使用的 『 for 迴圈、while 迴圈 』。

### O($n^2$)

```javascript=
function TimeComplexity(n){
    for(let i=0 ; i<n ; i++){
        for (let j = 0; j < n; j++) {
          console.log(i*j)  // 執行 n^2 次
        }
    }
}
```

解釋：把 O(n) 再用迴圈一遍就是 O($n^2$)，例如我們常看到的『 巢狀迴圈 』。

### O(logN)

看到 log 首先我們要先來了解一下數學式中的 **log(對數)**。
數學式： 如果 x = $loga^b$，則 b = $a^x$，符號 $loga^b$ 中，a 稱為底數，b 稱為真數。

```javascript=
function TimeComplexity(n){
    let i = 1
    while( i < n){
        console.log(i)
        i = i * 2
    }
}
```

解釋：這邊我們用數學的方式來推倒給大家看！
第一次： 2 = 1 _ 2
第二次： 4 = 2 _ 2
第三次： 8 = 4 \* 2
第Ｎ次： i = $2^N$

看到這邊是不是能觀察出**每一次的執行都是乘以 2(固定的數)**，也就是説**當執行Ｎ次時，i 就會為 2(固定的數) 的Ｎ次方倍**。
透過數學公式『x = $loga^b$，則 b = $a^x$』我們可以發現到**當 i = $2^N$ 時 N = $log2^i$**。
所以當函式執行了 $log2^i$ 次後就會是我們所輸入的 Ｎ，因此時間複雜度會用 O(logN) 來表示。

## 何謂空間複雜度 S(n) = O(f(n))

**首先，先來看看維基百科怎麼說：**

> 演算法的空間複雜度是指演算法需要消耗的空間資源。其計算和表示方法與時間複雜度類似，一般都用複雜度的漸近性來表示。

一個演算法的空間複雜度 (Space Complexity) 指的是該演算法所耗費的儲存空間（記憶體空間），當我們要比較兩個程式碼執行時所佔用的記憶體空間時，就可以透過計算各自的空間複雜度，來比較彼此程式碼的優劣。

**而通常也會使用 BigO(漸進符號) 來表示空間複雜度漸進變化的趨勢。**

### O(1)

```javascript=
function SpaceComplexity(n){
    for(let i=0 ; i<n ; i++){
        console.log(i)
    }
}
```

解釋：不管迴圈執行多少次，變數的數量永遠都不變，這時就可以用 O(1) 來表示此空間複雜度。

### O(n)

```javascript=
function SpaceComplexity(n){
    let arr = []
    for(let i=0 ; i<n ; i++){
        arr[i] = i + 1
    }
}
```

解釋：一般對陣列（一維陣列）的操作都屬於此空間複雜度，記憶體的使用量會隨著輸入ｎ的大小而有所改變，這時就可以用 O(n)來表示此空間複雜度

### O($n^2$)

```javascript=
function TimeComplexity(n){
    let arr = []
    for(let i=0 ; i<n ; i++){
        arr[i] = []
        for (let j = 0; j < n; j++) {
            arr[i] = [...arr[i],[i*j]]
        }
    }
}
```

解釋：二維陣列就是一個很好的空間複雜度 O($n^2$) 的例子，當傳入值為 n 時，將會使用 $n^2$ 個記憶體空間。

## 總結

看完上面的介紹後，應該對時間複雜度和空間複雜度有了基礎的了解，而這兩者之間往往是相互影響的。

當我們想讓程式減少一些執行次數時，來獲得較好的『時間複雜度』時，往往可能會使空間複雜度的性能變差，可能導致佔用較多的記憶體空間。
反之，當我們想減少一些記憶體的使用空間時，來獲得較好的『空間複雜度』時，往往會犧牲時間複雜度的性能，導致花費較長的執行時間。

而這兩者沒有絕對的好與壞，我們可以依照目前的需求來判斷要做哪方面的取捨或優化，看是要選擇**時間複雜度較優的**還是**空間複雜度較優的**程式碼，來達成我們對專案上程式碼的設計。

## Reference

1. [胡程維 — 初學者學演算法｜談什麼是演算法和時間複雜度-程式麻瓜的程式知識課（三）](https://medium.com/appworks-school/%E5%88%9D%E5%AD%B8%E8%80%85%E5%AD%B8%E6%BC%94%E7%AE%97%E6%B3%95-%E8%AB%87%E4%BB%80%E9%BA%BC%E6%98%AF%E6%BC%94%E7%AE%97%E6%B3%95%E5%92%8C%E6%99%82%E9%96%93%E8%A4%87%E9%9B%9C%E5%BA%A6-b1f6908e4b80)
2. [胡程維 — 初學者學演算法｜談什麼是演算法和時間複雜度-程式麻瓜的程式知識課（四）](https://medium.com/appworks-school/%E5%88%9D%E5%AD%B8%E8%80%85%E5%AD%B8%E6%BC%94%E7%AE%97%E6%B3%95-%E5%BE%9E%E6%99%82%E9%96%93%E8%A4%87%E9%9B%9C%E5%BA%A6%E8%AA%8D%E8%AD%98%E5%B8%B8%E8%A6%8B%E6%BC%94%E7%AE%97%E6%B3%95-%E4%B8%80-b46fece65ba5)
3. [Jason Chen — 【演算法】時間複雜度與空間複雜度 Time & Space Complexity](https://jason-chen-1992.weebly.com/home/time-space-complexity)
4. [Nissen — Day5：[演算法]如何衡量程式的效率？——論時間複雜度（Time Complexity）](https://ithelp.ithome.com.tw/articles/10203082)
5. [維基百科 — 時間複雜度](https://zh.wikipedia.org/zh-tw/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6)
6. [維基百科 — 大 O 符號](https://zh.wikipedia.org/wiki/%E5%A4%A7O%E7%AC%A6%E5%8F%B7)
7. [MBA 智庫 — 空間複雜度](https://wiki.mbalib.com/zh-tw/%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6)
8. [演算法的時間與空間複雜度（一看就懂）](https://www.itread01.com/content/1542770709.html)
